<!doctype html><html lang=en><head><title>HackTheBox - Lame (Retired Machine) Walk Through</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.34793ea3875bfaaa88436c36fa80f08bc736978d47b512f83f32b8acbae3a603.css integrity="sha256-NHk+o4db+qqIQ2w2+oDwi8c2l41HtRL4PzK4rLrjpgM="><link rel=icon type=image/png href=/images/site/main-logo_hu_63cabd47e3d466cb.png><meta property="og:url" content="https://zisuan.github.io/posts/lame_machine/lame/"><meta property="og:site_name" content="Zi Suan's Blog"><meta property="og:title" content="HackTheBox - Lame (Retired Machine) Walk Through"><meta property="og:description" content="HackTheBox Retired Machine Basic Write Up"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-20T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-20T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="HackTheBox - Lame (Retired Machine) Walk Through"><meta name=twitter:description content="HackTheBox Retired Machine Basic Write Up"><meta name=description content="HackTheBox Retired Machine Basic Write Up"><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/site/main-logo_hu_63cabd47e3d466cb.png id=logo alt=Logo>
Zi Suan's Blog</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class=nav-item><a class=nav-link href=/#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/#experiences>Experiences</a></li><li class=nav-item><a class=nav-link href=/#education>Education</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme">
</a><a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu_63cabd47e3d466cb.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/main-logo_hu_63cabd47e3d466cb.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><a class="active list-link" href=/posts/lame_machine/lame/ title="HTB Retired Machine - Lame">HTB Retired Machine - Lame</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/sections/posts/htb.png)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/author/profile_hu_6b761d5c4b7ed029.png alt="Author Image"><h5 class=author-name>Zi Suan</h5><p class=text-muted>Sunday, April 20, 2025 | 3 minutes</p></div><div class=title><h1>HackTheBox - Lame (Retired Machine) Walk Through</h1></div><div class=tags><ul style=padding-left:0></ul></div><div class=post-content id=post-content><ul><li><strong>Machine Name</strong>: <code>Lame</code></li><li><strong>Difficulty</strong>: <code>Easy</code></li></ul><h2 id=reconnaissance>Reconnaissance</h2><p>Reconnaissance is a critical first step to identify exposed services and potential attack vectors on the target system.</p><h3 id=nmap-scan>Nmap Scan</h3><p>Guided Question: How many of the¬†nmap¬†top 1000 TCP ports are open on the remote host?</p><p>This can be found out by running the command:</p><pre tabindex=0><code>nmap --top-ports=1000 ip {target ip address}
</code></pre><br><img src=/posts/Lame_Machine/nmap.png alt="nmap scan"><br>From the results, we can see that there are 4 open ports:<p>File Transfer Protocol (FTP) - Port 21<br>Secure Shell (SSH) - Port 22<br>NetBIOS SMB - Port 139<br>Server Message Block (SMB) - Port 445</p><h3 id=service-enumeration>Service Enumeration</h3><p>Guided Question: What version of VSFTPd is running on Lame?</p><p>We can further scan for the respective version of these services.</p><p>This can be found out by running the command:</p><pre tabindex=0><code>nmap -sV {target ip address} -p21
</code></pre><br><img src=/posts/Lame_Machine/ftp_version.png alt="ftp service version scan"><br><p>From the result, we can see that FTP is running on vsftpd 2.3.4.</p><p>Guided Question: There is a famous backdoor in VSFTPd version 2.3.4, and a Metasploit module to exploit it. Does that exploit work here?</p><p>We can use Metasploit to check if there is any known vulnerability on vsftpd 2.3.4.</p><p><img src=/posts/Lame_Machine/vsftpd.png alt="metasploit search"><br>Indeed, an exploit can be found for vsftpd 2.3.4.</p><p>Before running the exploit, we have to configure some settings on the module.</p><p>These settings can be found by running the command: show options</p><p><img src=/posts/Lame_Machine/msf_options.png alt="exploit module options"><br>We have to set the target host to our target machine by running the command: set RHOSTS {target ip address}.</p><p>Since the target port is already set to port 21, we do not have to configure the target port.</p><p>Following which, we will try to run the exploit by running the command: exploit</p><p><img src=/posts/Lame_Machine/exploit.png alt="exploit module"><br>Unfortunately, there was no session created even after the exploit is completed. This might be due to the vulnerability being patched or not exploitable in this context. This also means that we have to find another way into the machine.</p><p>Next, we can look into the SMB ports.</p><p>Guided Question: What version of Samba is running on Lame? Give the numbers up to but not including &ldquo;-Debian&rdquo;.</p><p>This can be found out by running the command:</p><pre tabindex=0><code>nmap -p 445 -sC -sV {target ip address}
</code></pre><br><img src=/posts/Lame_Machine/smb.png alt="smb version scan"><br><p>From the result, we can see that SMB is running on Samba 3.0.20.</p><p>Guided Question: What 2007 CVE allows for remote code execution in this version of Samba via shell metacharacters involving the¬†SamrChangePassword¬†function when the &ldquo;username map script&rdquo; option is enabled in¬†smb.conf?</p><p>Similarly, we can use the same steps as before to search for any vulnerabilities on this version.</p><p><img src=/posts/Lame_Machine/samba.png alt="Samba metasploit search"><br>From the result, there is only 1 known exploit that we can try.</p><p>Likewise, we have to configure the module settings before running the exploit.</p><p><img src=/posts/Lame_Machine/exploit_smb.png alt="Samba exploit"><br>The result shows that we have successfully exploited this vulnerability to gain command shell as a root user with root privileges.</p><h2 id=post-exploitation>Post Exploitation</h2><br><p>Using the command shell, we can use the command &rsquo;ls&rsquo; to list files in the current directory and command &lsquo;cd&rsquo; to traverse to the directory.</p><p>Running &ldquo;ls&rdquo; we can see that there is a home directory which we will traverse to using &ldquo;cd /home&rdquo; followed by another &ldquo;ls&rdquo; to list files in it.</p><p>A user makis can be found, by traversing into the user&rsquo;s home directory, a user.txt file can be found.</p><p>Running the command: &ldquo;cat user.txt&rdquo; will show us the content of the file.</p><p><img src=/posts/Lame_Machine/userflag.png alt="user flag" width=50% height=50%></br><strong>Voila! We got our User flag! üè¥‚Äç‚ò†Ô∏è</strong></p><p>Using the same command shell, we can traverse around the files to find the root&rsquo;s home directory to look for the root flag.</p><p>cd root > ls > cat root.txt</p><p><img src=/posts/Lame_Machine/rootflag.png alt="root flag" width=50% height=50%></br><strong>üëë Root Flag!</strong></p><p>Overall, This retired machine offers a solid introduction to service enumeration and basic exploitation using publicly available vulnerabilities. It also reinforces foundational techniques making it an excellent starting point for newcomers to penetration testing.</p></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fzisuan.github.io%2fposts%2flame_machine%2flame%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fzisuan.github.io%2fposts%2flame_machine%2flame%2f&text=HackTheBox%20-%20Lame%20%28Retired%20Machine%29%20Walk%20Through&via=Zi%20Suan%27s%20Blog" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-reddit" href="https://reddit.com/submit?url=https%3a%2f%2fzisuan.github.io%2fposts%2flame_machine%2flame%2f&title=HackTheBox%20-%20Lame%20%28Retired%20Machine%29%20Walk%20Through" target=_blank><i class="fab fa-reddit"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fzisuan.github.io%2fposts%2flame_machine%2flame%2f&title=HackTheBox%20-%20Lame%20%28Retired%20Machine%29%20Walk%20Through" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button bg-whatsapp" href="https://api.whatsapp.com/send?text=HackTheBox%20-%20Lame%20%28Retired%20Machine%29%20Walk%20Through https%3a%2f%2fzisuan.github.io%2fposts%2flame_machine%2flame%2f" target=_blank><i class="fab fa-whatsapp"></i>
</a><a class="btn icon-button" href="mailto:?subject=HackTheBox%20-%20Lame%20%28Retired%20Machine%29%20Walk%20Through&body=https%3a%2f%2fzisuan.github.io%2fposts%2flame_machine%2flame%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/Zisuan/zisuan.github.io/edit/main/content/posts/Lame_Machine/Lame.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#reconnaissance>Reconnaissance</a><ul><li><a href=#nmap-scan>Nmap Scan</a></li><li><a href=#service-enumeration>Service Enumeration</a></li></ul></li><li><a href=#post-exploitation>Post Exploitation</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://zisuan.github.io/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://zisuan.github.io/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://zisuan.github.io/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://zisuan.github.io/#education>Education</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:zisuanlim@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>zisuanlim@gmail.com</span></a></li><li><a href=https://www.linkedin.com/in/ target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Lim Zi Suan</span></a></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">¬© 2025 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.91bab9af3ea6af3cefda36641d1fdc76d78775d2a99c5cbbfd892093035465cf.js integrity="sha256-kbq5rz6mrzzv2jZkHR/cdteHddKpnFy7/YkgkwNUZc8=" defer></script></body></html>